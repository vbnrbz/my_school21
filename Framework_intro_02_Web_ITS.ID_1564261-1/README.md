# Введение во фреймворк

Аннотация: Данный проект научит подключать и настраивать фреймворк и познакомит с работой со статическими файлами.

## Содержание
1. [Chapter I](#chapter-i) \
   1.1. [Рекомендации к проекту](#рекомендации-к-проекту)
2. [Chapter II](#chapter-ii) \
   2.1. [Описание проекта](#описание-проекта)
3. [Chapter III](#chapter-iii) \
   3.1. [Задание 1](#задание-1-базовое-приложение) \
   3.2. [Задание 2](#задание-2-передача-данных) \
   3.3. [Задание 3](#задание-3-Кастомные-ошибки) \
   3.4. [Задание 4](#задание-4-Базовое-логирование) \
   3.5. [Задание 5](#задание-5-Конфигурация-окружения) \
   3.6. [Задание 6](#задание-6-Зафиксируй-установленные-в-проекте-версии-фреймворков) \
   3.7. [Бонусное задание 7](#бонусное-задание-7-Основы-Middleware) 


## Chapter I 

>К сожалению, когда ты пришел в Лабораторию сегодня, все по-прежнему делали вид, что ты большой молодец и отлично справляешься. Это натолкнуло тебя на мысль, что все это большой заговор с целью... Но с какой целью? Куда делся Главврач, и почему такой огромный проект свалился на твою голову? 
>
>Впрочем, сейчас это было не так важно. У тебя был рабочий созвон с Вениамином и Клариссой.
>
>— А вы знаете, чего хотите в итоге-то?
>>**Стажер**
>
>— Нам бы чего-нибудь такого эдакого.
>>**Кларисса**
>
>— Верно, эдакого.
>>**Вениамин**
>
>— ...
>>**Стажер**
>
>Что вообще значит «эдакого»... Что это за клиенты, которые совершенно не понимают, что им нужно? А ты чего хочешь? Кто ты? Где ты?
>
>Ты закончил этот бесполезный созвон и решил пока заняться «рыбой» веб-приложения. Сначала ведь все равно надо создать базовую структуру, а потом уже накидывать сверху. Общий концепт тебе понятен: информационная поддержка медцентра, а вот что дальше? Может, к тому времени Вениамин и Кларисса преисполнятся и поймут, чего хотят... Хотя, скорее, из командировки вернется Главврач, а ты вернешься к своим микрозадачкам и будешь спокойно учиться и работать. 

### Рекомендации к проекту

Как учиться в «Школе 21»:

- На протяжении всего курса ты будешь самостоятельно добывать информацию. Пользуйся всеми доступными средствами поиска
  информации, к примеру, Google и GigaChat. Будь внимателен к источникам информации: проверяй, думай, анализируй,
  сравнивай.
- Взаимообучение (P2P, Peer-to-Peer) — это процесс, при котором учащиеся обмениваются знаниями и опытом, выступая
  одновременно в роли учителей и учеников. Этот подход позволяет учиться не только у преподавателя, но и друг у друга,
  что способствует более глубокому пониманию материала.
- Не стесняйся просить помощи: вокруг тебя такие же пиры, которые тоже проходят этот путь впервые. Не бойся откликаться
  на просьбы о помощи. Твой опыт ценен и полезен, смело делись им с другими участниками.
- Не списывай, а если пользуешься помощью — всегда разбирайся до конца, почему, как и зачем. Иначе твое обучение не
  будет иметь никакого смысла.
- Если ты на чем-то застрял, и кажется, что ты уже все перепробовал, но все равно непонятно, куда идти, — просто
  передохни! Поверь, этот совет помогал многим разработчикам в их работе. Проветрись, перезагрузи голову и, возможно, в
  следующий раз тебе наконец придет нужное решение!
- Важен не только результат обучения, но и сам процесс. Нужно не просто решить задачу, а понять, КАК ее решить.

Как работать с проектом:
- Вся работа выполняется на виртуальной машине. Для начала ее нужно настроить, воспользовавшись [инструкцией](https://applicant.21-school.ru/guide_vm_med). Далее запустить виртуальную машину и продолжать выполнять работу над проектом там.
- Перед выполнением проект необходимо склонировать с GitLab в одноименный репозиторий.
- Все файлы с кодом необходимо создавать в папке src склонированного репозитория.
- После клонирования проекта необходимо создать ветку `develop` и вести разработку в ней. После этого пушить в GitLab
  также нужно ветку `develop`.
- В твоей директории не должно быть иных файлов, кроме тех, что обозначены в заданиях.

Дисклеймер:

- Наша команда не медики. Если ты будешь видеть в тексте медицинские неточности или ошибки, заранее просим у тебя
  прощения. Оставляй нам обратную связь, и мы все поправим!
- Иногда повествование ведется в несколько шутливой форме, чтобы не было скучно. Однако, как ты и сам знаешь, юмор и
  шутки — субъективная вещь. Поэтому если каламбуры в данном тексте, по твоему мнению, попахивают батиным юмором, то,
  пожалуйста, просто прими это.

## Chapter II

### Описание проекта

Продолжаем работу над своим медицинским веб-приложением.
Помимо базовой интеграции с Python-фреймворком, расширим задание новыми практическими элементами:

- логированием,
- более продвинутой конфигурацией окружений (development vs. production),
- пользовательскими страницами ошибок.

Основная цель:
Сформировать полноценное серверное приложение на Django с динамическими шаблонами, отдельными окружениями (dev/prod),
базовым логированием и улучшенной обработкой ошибок.

## Chapter III

### Задание 1: Настройка виртуального окружения и установка Django

Это первый шаг, который поможет тебе создать изолированное рабочее пространство для проекта. Настройка виртуального
окружения и установка Django — это основа для дальнейшей разработки, позволяющая избежать конфликтов между библиотеками
разных проектов и поддерживать чистоту.

1. Создай виртуальное окружение.
2. Активируй его.
3. Установи Django через pip.
4. Зафиксируй фреймворк в `requirments.txt`.

_pip — система управления пакетами, которая используется для установки и управления программными пакетами, написанными
на Python._

Как конечный артефакт у тебя появилось виртуальное окружение (папка `venv`) и файл `requirments.txt` с внесенным туда
Django и версией, которая была установлена.

### Задание 2: Создание нового проекта Django и изучение его структуры

На этом этапе ты создашь базовый проект Django. Это начало всех начал в разработке Django-приложений.

1. Создать проект при помощи `django-admin`.

Ты увидишь новые файлы, например, `manage.py` – управляющая утилита для выполнения команд. Он очень важный, и ты еще не
раз будешь к нему обращаться. Еще создалась папка проекта с файлами `settings.py`, `urls.py` и многими другими – здесь
настраивается все, от баз данных до статических файлов.

### Задание 3: Создание приложения Django и концепция MVT

Теперь внутри проекта надо создать отдельное приложение. Концепция Django подразумевает монолитное приложение, но ты
увидишь и вариант микросервисной архитектуры в последующих проектах. Ну а сейчас:

1. Создай приложение (как раз понадобится `manage.py`).
2. Подключи приложение в файле `settings.py`.
3. Изучи, что такое MVT. Вкратце:

- `Model`: Управляет данными и логикой работы с базой.
- `View`: Обрабатывает HTTP-запросы, связывает модели с шаблонами.
- `Template`: Отвечает за отображение данных пользователю.

Это основная концепция, в которой работает фреймворк Django.

### Задание 4: Создание приложения Django и концепция MVT

В этом задании нужно перенести ранее созданные статические HTML-страницы в систему шаблонов Django. Если у тебя не
получилось выполнить все задания из прошлого проекта, воспользуйся вложенным сайтом. Он наверняка не такой
красивый, как был у тебя в прошлом проекте, но в нем реализованы все задания. Если захочешь, можешь поменять стили,
картинки, тексты и т. д.

1. Создать папку для шаблонов `templates/`.
2. Создай базовый шаблон `base.html`.

_Подсказка: Посмотри такие вещи, как `{% block content %}` и `{% extends 'base.html' %}`, и разберись, почему удобно
использовать такие конструкции, как `block head`, `block content`. И еще — узнай, что такое `{% load static %}` и как
этим пользоваться._

3. Перенеси в этот шаблон содержание `template.html`.
4. Создай дочерние шаблоны для остальных `.html`-файлов. Для этого наследуйся от `base.html` и добавляй только тот
   контент, который отличается именно на этой странице.
5. В результате у тебя получатся все те же страницы, но с другим наполнением (без повторения себя, с наследованием).

- `index.html` – главная страница с приветственным сообщением и кратким описанием медицинского центра.
- `about.html` – страница «О нас» с подробной информацией о центре, его миссии и истории.
- `services.html` – страница с перечнем услуг (диагностика, лечение, реабилитация и т.д.).
- `doctors.html` – страница с информацией о специалистах (фото, специализация, биографии).
- `contacts.html` – страница с контактной информацией и картой расположения центра.

_Интересное: есть такой принцип программирования — DRY. Расшифровывается как Don't Repeat Yourself — не повторяй себя.
В этом задании ты как раз применяешь его — теперь не придется повторять за собой одинаковые части кода на каждой
странице._

### Задание 5: Настройка статических файлов в Django и перенос статики

Это задание поможет правильно организовать и подключить статические файлы (`CSS`, `JavaScript`, `изображения`)
в `Django`.
Перенос статики из статического сайта позволит сохранить дизайн и функционал, а также научит правильно работать с
тегом `{% static %}`. Для этого:

1. Создай папку для статических файлов: `static/<app_name>`, где app_name — название твоего приложения.
2. Перемести файлы `css/styles.css`, `js/script.js` и папку `images` в `static/<app_name>`.
3. Добавь в `settings.py` параметр `STATIC_URL` и `STATICFILES_DIRS`.

### Задание 6: Настройка статических файлов в Django и перенос статики

Настройка URL-маршрутов и представлений — это «мост» между запросами пользователей и сайтом. Давай организуем маршруты и
сделаем функции, которые будут отвечать за вывод нужной информации на страницах.

1. Создай представления в `<app_name>/views.py`.
2. Настрой маршруты в `<app_name>/urls.py`.
3. Подключи маршруты в основном файле `<project_name>/urls.py`.
4. Проверь, что `about/`, `services/`, `doctors/`, `contacts/` открываются и показывают правильные `.html`.

_Кстати, на реальных проектах важно учитывать законодательство РФ (или той страны, в которой будет работать твое приложение). Чаще всего этим занимаются отдельные люди, но стоит знать, что, например, фото, ФИО и подобное попадает под ФЗ №152._

### Бонусное Задание 7: Реализация контактной формы с Django Form и обработкой данных

Осталось перенести логику валидации с фронтенда на бэкенд. Чтобы это сделать, надо:

1. Создать форму в `<app_name>/forms.py`.
2. Обновить представление в `<app_name>/views.py` — встроенные валидаторы Django автоматически проверят, например,
   корректность формата email и наличие обязательных данных. Для этого нужно будет указать корректные типы данных
   в `forms`.
3. Изменить шаблон `contacts.html` — убрать валидацию.

---

>Наконец «рыба» была готова. Ты размял пальцы и огляделся. Все уже давно ушли по домам, и только на экране твоего телефона мигало уведомление.
>
>Твои успехи поразительны! Вот уже и настоящее веб-приложение — хоть по сути остался тот же сайт, но работает он уже на совершенно других рельсах и предоставляет намного больше возможностей. До встречи в следующем проекте!
>>**Главврач**
>
>Да следит он за тобой, что ли? Ты посмотрел под потолок на камеру видеонаблюдения, но затем потряс головой. Нет, Главврач хоть и был своеобразным, но вряд ли стал бы следить за тобой по камерам, отслеживая твой прогресс. С какой целью? Зачем? 
>
>Ощущение, что ты Иванушка-дурачок, который делает непонятно что, тебя не покидало. Ты в последний раз бросил подозрительный взгляд на камеру, и та подмигнула красным огоньком.
>
>Нет, теперь точно пора домой, решил ты. Если тебе уже камеры подмигивают...

💡 [Нажми сюда](https://oprosso.ru/p/ad3bc98eb2a54c0baf4679fa722b54df), **чтобы поделиться с нами обратной связью на этот проект**. Это анонимно и поможет команде Продукта сделать твое обучение лучше.

